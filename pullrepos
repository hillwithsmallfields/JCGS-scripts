#!/bin/bash

ALL=false			# todo: flag for this

# If my directory variables aren't defined, run my shell setup.  This
# is aimed for use from cron.
if [ -z $OPEN_PROJECTS ]
then
    . $HOME/.bashrc
fi

for GITDIR in $MY_PROJECTS
do
    cd $GITDIR
    echo Pulling $GITDIR
    git pull
done

if $ALL
then
    for REPOFILE in $(find $OPEN_PROJECTS -name .git)
    do
	GITDIR=$(dirname $REPOFILE)
	cd $GITDIR
	echo Pulling $GITDIR
	git pull
    done
fi

$SCRIPTS/afterpull
